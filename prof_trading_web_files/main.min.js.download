function getIPInfo(e){$.get("https://ipinfo.io?token=a5c1d36d926c18",function(){},"jsonp").always(function(o){e(o)})}function showPopup(e){$(e).fadeIn(400)}function hidePopup(){$(".popup-layout").fadeOut(400),$(".popup-video").find("iframe").remove()}function showVideoPopup(e,o){showPopup("#popup-video"),"vimeo"===o?$(".popup-video .popup-video__video").html("").append('<iframe width="100%" height="100%" src="https://player.vimeo.com/video/'+e+'?autoplay=1&title=0&byline=0&portrait=0&badge=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>'):$(".popup-video .popup-video__video").html("").append('<iframe width="100%" height="100%" src="https://www.youtube.com/embed/'+e+'?rel=0&amp&autoplay=1;controls=0&showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>')}function showImagePopup(e){showPopup("#popup-image"),$("#popup-image .popup-image__image").html("").append('<img src="'+e+'" />')}function checkboxAgreement(e,o,t){var i;t=t||"click",i="input[name=checkboxAgreement]"===e?$(o).find(e):$(e),$(o).on(t,function(e){if(i.length)return i.is(":checked")?(i.closest(".custom-checkbox").find(".custom-error").hide(),!0):(i.closest(".custom-checkbox").find(".custom-error").show(),e.stopImmediatePropagation(),!1)}),i.click(function(){$(this).is(":checked")?i.closest(".custom-checkbox").find(".custom-error").hide():i.closest(".custom-checkbox").find(".custom-error").show()})}function showSliderPopup(e){showPopup("#popup-slider");var o="",t=$("#popup-slider .popup-slider");for(i=0;i<e.length;++i)o+='<div class="popup-image__image"><img src="'+e[i]+'" /></div>';t.slick("unslick"),t.html("").append(o),t.slick({adaptiveHeight:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1}),setTimeout(function(){t.slick("setPosition")},100)}function changeTabs(e,o){$("."+e).click(function(){$(this).hasClass(e+"--active")||($("."+e+"--active").removeClass(e+"--active"),$(this).addClass(e+"--active"),$("."+o+"--active").removeClass(o+"--active"),$("."+o+"[data-item="+$(this).data("item")+"]").addClass(o+"--active"))})}function viewBanner(){var e=[];if($(".pro-banner-element:not(.banner-viewed), .banner-slide:not(.banner-viewed)").each(function(){$(this).isInViewport()&&$(this).data("bannerId")&&""!==$(this).data("bannerId")&&($(this).hasClass("banner-slide")?$(this).hasClass("slick-current")&&($(this).addClass("banner-viewed"),e.push($(this).data("bannerId"))):($(this).addClass("banner-viewed"),e.push($(this).data("bannerId"))))}),e.length>0){var o={banners:e};$.post(window.location.origin+"/set_banner_view",o)}}function getCookie(e){var o=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return o?decodeURIComponent(o[1]):void 0}function areCookiesEnabled(){var e=navigator.cookieEnabled;if(!1===e)return!1;if(!document.cookie&&null===e){if(document.cookie="testcookie=1",!document.cookie)return!1;document.cookie="testcookie=; expires="+new Date(0).toUTCString()}return!0}function setCookie(e,o,t){t&&"object"==typeof t&&!Array.isArray(t)?t.path||(t.path="/"):t={path:"/"},t.expires&&t.expires.toUTCString&&(t.expires=t.expires.toUTCString());var i=encodeURIComponent(e)+"="+encodeURIComponent(o);for(var n in t){i+="; "+n;var s=t[n];!0!==s&&(i+="="+s)}document.cookie=i}function deleteCookie(e){setCookie(e,"",{"max-age":-1})}function getUrlParameter(e){var o,t,i=decodeURIComponent(window.location.search.substring(1)).split("&");for(t=0;t<i.length;t++)if((o=i[t].split("="))[0]===e)return void 0!==o[1]&&o[1]}$(function(){$(".page").css("min-height",window.innerHeight);var e=new WebSessionCounter;e.update();var o=e.getCount();e.checkActiveSession();var t=getCookie("userN"),i=getCookie("userR"),n=new Date;n.setTime(n.getTime()+31104e6),window.dataLayer=window.dataLayer||[];var s="";i||t?t?(o>1||"userR"===userServerCookie)&&(deleteCookie("userN"),setCookie("userR","02",{expires:n}),s="Returned",dataLayer.push({userR:"02"})):i&&(dataLayer.push({userR:"02"}),s="Returned"):1===o&&"userR"!==userServerCookie?(setCookie("userN","01",{expires:n}),s="New",dataLayer.push({userN:"01"})):(setCookie("userR","02",{expires:n}),s="Returned",dataLayer.push({userR:"02"})),areCookiesEnabled||(s="AdBlock system"),s&&setCookie("customerType",s||"",{expires:n});var a=window.location.pathname,r=a.substring(a.lastIndexOf("/")+1);r?$("input[name='pageType'][value='']").val(r):$("input[name='pageType'][value='']").val("homepage"),setCookie("userAgent",window.navigator&&window.navigator.userAgent||"",{expires:n});var l=getCookie("country");function c(e,o){e&&setCookie("city",e,{expires:n}),o&&setCookie("country",o,{expires:n}),"UA"===o&&p()}function p(){$(".socials__item--vk").hide(),$(".phone-call").find(".phone-ru").hide(),$(".phone-call").find(".phone-ua").show(),$(".phone-call .phone-call__list").find(".phone-ua").hide(),$(".phone-call .phone-call__list").find(".phone-ru").show()}l&&""!==l&&"NaN"!==l||getIPInfo(function(e){var o=e&&e.country?e.country:"",t=e&&e.city?e.city:"",i=e&&e.timezone?e.timezone:"";i&&setCookie("timeZone",i,{expires:n}),c(t,o)}),"UA"===l&&p();var d=window.navigator?window.navigator.language||window.navigator.systemLanguage||window.navigator.userLanguage:"ru";setCookie("language",d=d.substr(0,2).toLowerCase(),{expires:n}),$(document).on("click",".link-smooth",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},1500)}),$("a.link").click(function(){return("link_fixed_menu_7"!==$(this).attr("id")||$(window).width()<720)&&("_blank"===$(this).attr("target")?window.open($(this).data("link")):window.location.replace($(this).data("link"))),!1});var u=getCookie("referrerSessionN"),h=getCookie("referrer"),m=document.referrer,g=m.split("/")[2],f=window.location.href.split("/")[2];m&&g!==f?u&&h&&o.toString()===u.toString()||(setCookie("referrer",m,{expires:n}),setCookie("referrerSessionN",o,{expires:n})):u&&o.toString()===u.toString()||(setCookie("referrer","",{expires:n}),setCookie("referrerSessionN",o,{expires:n}));var w=$("#zohoID").text(),v=$("#zohoName").text();!getCookie("primaryInterestId")&&w&&(setCookie("primaryInterestId",w,{expires:n}),setCookie("primaryInterestTitle",v,{expires:n})),$("input[name='productZohoID']").val(w||""),$("input[name='productZohoName']").val(v||""),$("input[name='visit'][value='']").val(window.location.href);var k=getCookie("_afcid");if(k)$("input[name='appsFunID']").val(k||"");else var b=setInterval(function(){(k=window.localStorage.getItem("_afcid"))&&(clearInterval(b),$("input[name='appsFunID']").val(k||""))},2e3);$("a.link-2").click(function(){var e=$(this).data("link");return e&&(e.indexOf("auth/registration")>-1&&(w&&(e+="&productZohoID="+w),v&&(e+="&productZohoName="+v),e+=r?"&pageType="+encodeURIComponent(r):"&pageType="+encodeURIComponent("homepage"),e+="&visit="+encodeURIComponent(window.location.href),k&&(e+="&appsFunID="+encodeURIComponent(k))),document.location.href=e),!1}),$("a.pro-link").click(function(){var e=$(this).data("link");return e&&(e.indexOf("/registration")>-1&&-1===e.indexOf("auth")&&(w&&(e+="&productZohoID="+w),v&&(e+="&productZohoName="+v),e+=r?"&pageType="+encodeURIComponent(r):"&pageType="+encodeURIComponent("homepage"),e+="&visit="+encodeURIComponent(window.location.href)),document.location.href=e),!1}),$("a").each(function(){"webcache.googleusercontent.com"!==location.hostname&&location.hostname!==this.hostname&&this.hostname.length&&!$(this).hasClass("socials__item-link")&&$(this).attr("rel","nofollow")}),$("body").click(function(){hidePopup()}),$(".popup, .popup-link, #popup-login .popup-scrollarea, #popup-login-email .popup-scrollarea, #popup-common-email-confirm .popup-scrollarea, .onboarding-overlay, .popup-layout.popup-layout--mandatory .popup-scrollarea").click(function(e){e.stopPropagation()}),$(".popup-layout").click(function(e){e.stopPropagation(),$(this).fadeOut(400)}),$(".popup__close").on("click touchstart",function(){hidePopup()}),$(".modal-close").on("click touchstart",function(){$(this).closest(".email-confirm-modal").slideUp(300)}),$(window).scroll(function(){$(window).scrollTop()>1600?$(".scroll-up").addClass("scroll-up--active"):$(".scroll-up").removeClass("scroll-up--active")});var _=!0,C=$("input[type=tel]");C.intlTelInput({defaultCountry:"auto",nationalMode:!1,initialCountry:"auto",allowDropdown:!0,geoIpLookup:function(e){l&&""!==l&&"NaN"!==l?e(l):getIPInfo(function(o){var t=o&&o.country?o.country:"";t&&""!==t?e(t):function(e){$.ajax({url:"https://geolocation-db.com/jsonp/",type:"GET",jsonpCallback:"callback",dataType:"jsonp",success:function(o){e(o)},error:function(o){console.log("Request failed, error= "+JSON.stringify(o)),e(o)}})}(function(o){if(o.error)C.intlTelInput("destroy").intlTelInput({defaultCountry:"auto",nationalMode:!1,preferredCountries:["ua","ru","by","kz","us"]}),_=!1;else{var t=o&&o.country_code||"",i=o&&o.city||"";""!==t?(c(i,t),e(t)):(C.intlTelInput("destroy").intlTelInput({defaultCountry:"auto",nationalMode:!1,preferredCountries:["ua","ru","by","kz","us"]}),_=!1)}})})},preferredCountries:["ua","ru","by","kz","us"]});var y,x=window.location.pathname;$(".profile-aside__item").each(function(){$(this).attr("href")===x&&$(this).addClass("profile-aside__item--active")}),$("#showTgPopUp, #link_fixed_menu_2_5, #link_fixed_menu_10").on("click",function(e){$("#popup-telegram-bot").show()}),$("form").each(function(){$(this).validate({rules:{firstName:{maxlength:30}}})}),$.mask.definitions["~"]="[0-9+]",$.mask.definitions[9]=null;var T,I,S,P=!1;C.on("countrychange",function(e){var o=$(this);_&&!o.hasClass("phone-disabled-mask")&&(y="+"+o.intlTelInput("getSelectedCountryData").dialCode,o.mask(y+"?~~~~~~~~~~~~~~~~~~",{placeholder:"",autoclear:!1}).attr("placeholder",y),o.rules("add",{minlength:8,maxlength:18}),"+380"===y&&(C.mask(y+"~~~~~~~~~",{placeholder:"",autoclear:!1}).attr("pattern",".{13,13}"),C.each(function(){$(this).rules("add",{minlength:13,maxlength:13})})),P&&(o.blur(),o.val("")),P=!0)}),C.focus(function(){$(this).hasClass("mask-reinit")&&$(this).val(y).removeClass("mask-reinit")}),C.keypress(function(e){-1!==$.inArray(e.keyCode,[0,8,9,27,13,110,190,43])||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&e.preventDefault()}).on("input",function(e){var o=$(this).val();"+"===o[0]?$(this).val("+"+o.replace(/[^0-9]/g,"")):$(this).val(o.replace(/[^0-9]/g,""))}),$(window).width()<720&&$(".submenu-box-hover-btn").on("touchstart",function(e){$(this).closest(".submenu-box-hover").find(".submenu-box").slideToggle(300)}),$(".visibility-btn").click(function(){if(!$(this).hasClass("visibility-btn--false")){$(this).toggleClass("visibility-btn--disabled");var e=$(this).find('input[type="checkbox"]');e.prop("checked",e.prop("checked"))}}),$(".toggle-btn").click(function(){$(this).toggleClass("toggle-btn--on")}),$(".select-checkboxes-title").click(function(){$(this).closest(".select--checkboxes").find(".select-checkboxes").slideToggle(300)}),$(".single-tag").click(function(){window.open("/search?data="+$(this).text())}),$(".package-demo__toggler").click(function(){$(this).closest(".package-demo").toggleClass("package-demo--closed")}),$(".banner-slider").slick({adaptiveHeight:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:2e4}).on("afterChange",function(e,o){viewBanner()}),$(".articles-slider").each(function(){var e=3,o=!1;$(this).hasClass("articles-slider--4-slides")?(e=4,$(window).width()<720&&$(this).find(".articles-slide").length>1?o=!0:$(window).width()<1260&&$(this).find(".articles-slide").length>2?o=!0:$(window).width()>=1260&&$(this).find(".articles-slide").length>4&&(o=!0)):$(window).width()<720&&$(this).find(".articles-slide").length>1?o=!0:$(window).width()<1260&&$(this).find(".articles-slide").length>2?o=!0:$(window).width()>=1260&&$(this).find(".articles-slide").length>3&&(o=!0),o&&$(this).slick({adaptiveHeight:!0,infinite:!0,slidesToShow:e,slidesToScroll:1,arrows:!0,dots:!1,responsive:[{breakpoint:1260,settings:{slidesToShow:2}},{breakpoint:720,settings:{slidesToShow:1}}]})}),$(".articles-slider-2").slick({adaptiveHeight:!0,infinite:!0,slidesToShow:3,slidesToScroll:1,arrows:!0,dots:!1,responsive:[{breakpoint:1440,settings:{slidesToShow:2}},{breakpoint:1260,settings:{slidesToShow:2}},{breakpoint:720,settings:{slidesToShow:1}}]}),$(".single-slider").slick({adaptiveHeight:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,asNavFor:".single-slider-nav"}),$(".single-slider-nav").slick({variableWidth:!0,adaptiveHeight:!0,centerMode:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,focusOnSelect:!0,asNavFor:".single-slider"}),$(".pro-reviews-slider").slick({adaptiveHeight:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1}),$(".comment__response-toggler, .comment__text-toggler").click(function(){$(this).find(".comment__response-toggler-open").toggle(),$(this).find(".comment__response-toggler-close").toggle(),$(this).toggleClass("active")}),$(".comment__response-toggler").click(function(){$(this).next(".comment-responses").slideToggle(300)}),$(".comment__text-toggler").click(function(){$(this).closest(".comment").find(".comment__text").toggleClass("comment__text--preview")}),$(".dropify").dropify({messages:{default:"Перетащите файл в область",replace:"Перетащите файл в область чтобы изменить",remove:"Удалить",error:"Возникла ошибка"}}),$(".paginator-refresh").click(function(){$(this).addClass("paginator-refresh--spin"),setTimeout(function(){$(".paginator-refresh").removeClass("paginator-refresh--spin")},1e3)}),$(".phone-call__toggler").click(function(){$(this).toggleClass("phone-call__toggler--active"),$(this).closest(".phone-call").find(".phone-call__list").slideToggle(300)}),$("body").on("click",function(e){$(e.target).is(".phone-call__list, .phone-call__toggler")||($(".phone-call__list").slideUp(),$(this).removeClass("phone-call__toggler--active"))}),$(window).width()>=720&&($("#link_fixed_menu_7").removeAttr("data-link"),$("#link_fixed_menu_7").click(function(e){$(".submenu-box.submenu-box--search").show(),$("#searchInputField").focus()})),$("#searchInputField").keyup((T=function(){if($(this).val().length>=3){var e=$(this).val();if(new RegExp(/^([a-zA-Zа-яА-Яії0-9 _-]+)$/).test(e)){var o={input:e};$.get(window.location.origin+"/search/get_dropdown_data/",o,function(o){o.result?function(e,o){if($(".submenu-box-search-list").empty(),$(".submenu-box-search-list").show(),e.length>0)for(var t=0;t<e.length;t++)$('<a href="'+e[t].link+'" class="submenu-box-search-list__item" style="display: block;"><span>'+o+"</span>"+e[t].word.substring(o.length)+"</a>").appendTo(".submenu-box-search-list");else $('<div style="color: black; cursor: text"><span>По данному запросу ничего не найдено</span></div>').appendTo(".submenu-box-search-list")}(o.data,e):console.log(o)})}else setErrorMessage("Ошибка валидации поисковой строки")}},I=1e3,S=0,function(){var e=this,o=arguments;clearTimeout(S),S=setTimeout(function(){T.apply(e,o)},I||0)})),$("#searchInputField").length&&document.getElementById("searchInputField").addEventListener("keypress",function(e){if($(this).val().length>=3){var o=$(this).val();new RegExp(/^([a-zA-Zа-яА-Яії0-9 _-]+)$/).test(o)?13===e.keyCode&&window.open("/search?data="+o):setErrorMessage("Ошибка валидации поисковой строки")}});var R=getUrlParameter("utm_source")||"",U=getUrlParameter("utm_medium")||"",H=getUrlParameter("utm_campaign")||"",N=getUrlParameter("utm_term")||"",A=getUrlParameter("utm_content")||"";R&&""!==R&&(setCookie("utm_source_reg",R,{expires:n}),setCookie("utm_medium_reg",U&&""!==U?U:"",{expires:n}),setCookie("utm_campaign_reg",H&&""!==H?H:"",{expires:n}),setCookie("utm_term_reg",N&&""!==N?N:"",{expires:n}),setCookie("utm_content_reg",A&&""!==A?A:"",{expires:n})),-1===location.pathname.indexOf("master-klassy")&&-1===location.pathname.indexOf("videouroki")&&"/"!==window.location.pathname&&$(".articles-section").outerHeight()>$(".articles-aside").outerHeight()&&(window.onscroll=function(){var e=window.pageYOffset||document.documentElement.scrollTop,o=$(".banner-slider").outerHeight(),t=($(".articles-section").outerHeight(),$(".main-header").outerHeight()+$(".articles-aside").outerHeight()+$(".page-title").outerHeight()+$(".breadcrumbs").outerHeight()),i=$(document).outerHeight()-$(".main-footer").outerHeight()-$(".action-box").outerHeight()-o-280;e+500>t+o?$(".banner-slider").addClass("banner-slider--fixed"):$(".banner-slider").removeClass("banner-slider--fixed"),e>i?$(".banner-slider").css({top:i-e}):$(".banner-slider").css({top:0})}),getUrlParameter("showTgPopup")&&$("#popup-telegram-bot").show(),$(".pro-packages-item__price-tabs .pro-packages-item__price").click(function(){$(this).hasClass("pro-packages-item__price--active")||($(this).closest(".pro-packages-item__price-tabs").find(".pro-packages-item__price--active").removeClass("pro-packages-item__price--active"),$(this).addClass("pro-packages-item__price--active"))}),$("form").submit(function(){$(this).valid()&&$("#loader").show()})}),$(document).mouseup(function(e){var o=$(".submenu-box.submenu-box--search");o.is(e.target)||0!==o.has(e.target).length||($("#searchInputField").val(""),$(".submenu-box-search-list").empty(),$(".submenu-box-search-list").hide(),o.hide())}),$.fn.isInViewport=function(){var e=$(this).offset().top,o=e+$(this).outerHeight(),t=$(window).scrollTop(),i=t+$(window).height();return o>t&&e<i},$("#popup-slider .popup-slider").slick({adaptiveHeight:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1}),"#_=_"===window.location.hash&&(history.replaceState?history.replaceState(null,null,window.location.href.split("#")[0]):window.location.hash=""),viewBanner(),$(document).on("scroll",function(){viewBanner()}),$(".pro-banner-element, .banner-slide").on("mousedown",function(e){var o=$(this);o.on("mouseup mousemove",function e(t){if("mouseup"===t.type){var i=o.attr("data-banner-id"),n=o.attr("data-banner-title");if(i){var s={banner:i};$.post(window.location.origin+"/set_banner_click",s)}n&&dataLayer.push({eventLabel:n})}o.off("mouseup mousemove",e)})});